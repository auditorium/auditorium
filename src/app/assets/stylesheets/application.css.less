/*
*= require_self
*= require jquery.ui.all
*= require_tree .
*/

// Bootstrap
@import "twitter/bootstrap/bootstrap";
@import "twitter/bootstrap/responsive";
@import "twitter/bootstrap/variables";
@import "twitter/bootstrap/mixins";
@import "fontawesome";
@import "variables";
@import "caviar-dreams";

// Font Awesome - for Glyphs
@fontAwesomeEotPath:  'fontawesome-webfont.eot';
@fontAwesomeWoffPath: 'fontawesome-webfont.woff';
@fontAwesomeTtfPath:  'fontawesome-webfont.ttf';
@fontAwesomeSvgzPath: 'fontawesome-webfont.svgz';
@fontAwesomeSvgPath:  'fontawesome-webfont.svg';

html {
  height:100%;
}

body {
  height:100%;
  background-color: @white;
  background-image: url('low_contrast_linen.png');
}

/* headers */
h1, h2, h3, h4, h5, h6{
  color:@textColor;
  margin:10px 0;
  line-height: 1;
  a { color:@grayDarker; }
  a:hover {color: lighten(@grayDarker, 35%);  text-decoration: none }
}
h1 {
  font-weight:  @font-weight-h1;
  font-size:    @font-size-h1;
}

h2 {
  font-weight:  @font-weight-h2;
  font-size:    @font-size-h2;
}

h3 {
  font-weight:  @font-weight-h3;
  font-size:    @font-size-h3;
  vertical-align: bottom;
}
.well h3 {
  font-weight:  @font-weight-h3;
  font-size:    @font-size-h3-well;
}

h5, h6
{
  font-weight:  @font-weight-h4;
}

.brand {
  font-family: 'CaviarDreams';
}

#content {
  background:@white;
}

.fixed-navbar {
  width:100%;
  left:0;
  top:0;
  padding:0;
  margin:0;
  position:fixed;
  -webkit-box-shadow: 0 1px 5px rgba(0,0,0,.8);
     -moz-box-shadow: 0 1px 5px rgba(0,0,0,.8);
       -o-box-shadow: 0 1px 5px rgba(0,0,0,.8);
          box-shadow: 0 1px 5px rgba(0,0,0,.8);
        filter:
          progid:DXImageTransform.Microsoft.Shadow(color=#000,direction=135,strength=5);

  opacity:0.9;
  filter:alpha(opacity=90); /* For IE8 and earlier */
  .navbar-inner {
    border-radius:0;
  }

  .breadcrumb {
    margin:0;
  }
}

/* media */
/****** resonse overrides ******/

// Landscape phones and down
@media (max-width: 480px) {

  //.breadcrumb li { display: list-item; }
  .breadcrumb { display: none; }
  .hero-unit {
    padding:10px;
  }
  .well {
    padding:10px;
  }
}

@media (max-width: 390px) {
  .hidden-little-phone {
    display:none;
  }
}

@media (max-width: 1199px) {

  header {
    .container {
      width:95%;
    }

    .navbar .nav > li {
      padding:0;
      margin:0;
    }
  }

}

// Landscape phone to portrait tablet
@media (max-width: 767px)
{ 
  body{

    & > header {
      background-color:#222;
      margin:0;
      padding:0;
    }

    #navigation {
      width:100%;
      left:0;
      padding:0;
      margin:0;
      position:fixed;
      #shadow > .inset-top();

      .navbar-inner {
        border-radius:0;
      }
    }

    margin:0;
    padding:0;
    #content
    {
      padding: 0 8px;
      margin-top:35px;
    }
  }
  .lead
  {
    font-size:15px;
    visibility: hidden;
  }
  h1, .lead
  {
    padding: 0 12px;
  }
 
  #footer
  {
    padding: 15px 5px;
  }
}

@media (min-width: 768px) {
  body {
    & > header
    {
      color: @headerColor;
      background-color:@headerBackground;
      background-image:@headerBackgroundImage;
      background-repeat:no-repeat;
      padding-top: @body-padding-top;
      background-size: 100% auto;
      background-position-y:-50px;
      height:220px;

      h1 {
        font-size:4.5em;
        font-weight: bold;
        font-family: 'CaviarDreams';
        -webkit-text-shadow: @black 0px 0px 2px;
        -moz-text-shadow: @black 0px 0px 2px;
        -o-text-shadow: @black 0px 0px 2px;
        text-shadow: @black 0px 0px 2px;
        filter: glow(color=@grayDark,strength=4); 
        margin:5px 0;
        padding:10px 5px 0 5px;
        a { color: @headerColor; }
        a:hover { color: @headerColor; text-decoration: none; }
        span{
          em {
            #shadow > .no-shadow() !important;
           display: block;
           z-index: 10;
           font-size: .4em;
           position: absolute;
           margin-left: -10px;
           padding-top: 15px;
          }
          -webkit-transform: rotate(-40deg); 
          -moz-transform: rotate(-40deg); 
          -o-transform: rotate(-40deg); 
           z-index: 5;
           font-family: @baseFontFamily;
           position: absolute;
           dispaly:block;
           vertical-align: center;
           margin:0;
           margin-left:-10px;
           margin-top:-15px;
           color: @white;

        }
      }

      p {
        margin:5px 0;
        padding:5px 10px;
        -webkit-text-shadow: @black 0px 0px 2px;
        -moz-text-shadow: @black 0px 0px 2px;
        -o-text-shadow: @black 0px 0px 2px;
        text-shadow: @black 0px 0px 2px;
        filter: glow(color=@grayDark,strength=4); 
        font-weight: 400;
        font-size:1.3em;

        small {
          font-size:1.0em;
        }
      }
    }
  }
}


// Portrait tablet to landscape and desktop
@media (min-width: 768px) and (max-width: 979px) {
  body {
    & > header{
      height:60px;
    }
  }
}

/* mixins */
.soft-border
{
  border-style: solid;
  border-color: @grayLight;
}

.top-border
{
  .soft-border;
  border-width: 1px 0 0 0;
  margin-top: 1em;
}

.bottom-border
{
  .soft-border;
  border-width: 0 0 1px 0;
  margin-bottom: 4em;
}
.border-radius (@radius)
{
  
  -moz-border-radius: @radius;
  -webkit-border-radius: @radius;
  -o-border-radius: @radius;
  border-radius: @radius;
}
.border-radius(@a,@b,@c,@d)
{
    -webkit-border-radius: @a,@b,@c,@d;
       -moz-border-radius: @a,@b,@c,@d;
         -o-border-radius: @a,@b,@c,@d;
            border-radius: @a,@b,@c,@d;
}

#gradient
{
  .no-gradient(@color)
  {
    background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%,@color), color-stop(100%, @color)); /* Chrome,Safari4+ */
    background-image: -webkit-linear-gradient(  top,  @color 0%,  @color 100%); /* Chrome 10+,Safari 5.1+ */
    background-image: -moz-linear-gradient(     top,  @color 0%,  @color 100%); /* FF3.6+ */
    background-image: -ms-linear-gradient(      top,  @color 0%,  @color 100%); /* IE10+ */
    background-image: -o-linear-gradient(       top,  @color 0%,  @color 100%); /* Opera 11.10+ */
    filter: progid:DXImageTransform.Microsoft.gradient(enabled=false); /* IE6-9 */
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='@color', endColorstr='@color',GradientType=0 ); /* IE6-9 */
    background-image: linear-gradient(top, @color 0%,@color 100%); /* W3C */
  }
}

.bottom-border
{
  .soft-border;
  border-width: 0 0 1px 0;
  margin-bottom: 4em;
}
.border-radius (@radius)
{
  
  -moz-border-radius: @radius;
  -webkit-border-radius: @radius;
  -o-border-radius: @radius;
  border-radius: @radius;
}
.border-radius(@a,@b,@c,@d)
{
    -webkit-border-radius: @a,@b,@c,@d;
       -moz-border-radius: @a,@b,@c,@d;
         -o-border-radius: @a,@b,@c,@d;
            border-radius: @a,@b,@c,@d;
}

#gradient
{
  .no-gradient(@color)
  {
    background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%,@color), color-stop(100%, @color)); /* Chrome,Safari4+ */
    background-image: -webkit-linear-gradient(  top,  @color 0%,  @color 100%); /* Chrome 10+,Safari 5.1+ */
    background-image: -moz-linear-gradient(     top,  @color 0%,  @color 100%); /* FF3.6+ */
    background-image: -ms-linear-gradient(      top,  @color 0%,  @color 100%); /* IE10+ */
    background-image: -o-linear-gradient(       top,  @color 0%,  @color 100%); /* Opera 11.10+ */
    filter: progid:DXImageTransform.Microsoft.gradient(enabled=false); /* IE6-9 */
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='@color', endColorstr='@color',GradientType=0 ); /* IE6-9 */
    background-image: linear-gradient(top, @color 0%,@color 100%); /* W3C */
  }
}

#shadow
{
  .no-shadow
  {
  -webkit-box-shadow: inset 0 0px 0 #fff, 0 0px 0px rgba(0,0,0,.0);
     -moz-box-shadow: inset 0 0px 0 #fff, 0 0px 0px rgba(0,0,0,.0);
       -o-box-shadow: inset 0 0px 0 #fff, 0 0px 0px rgba(0,0,0,.0);
          box-shadow: inset 0 0px 0 #fff, 0 0px 0px rgba(0,0,0,.0);
  }
  .soft
  {
  -webkit-box-shadow: inset 0 1px 0 #fff, 0 1px 5px rgba(0,0,0,.1);
     -moz-box-shadow: inset 0 1px 0 #fff, 0 1px 5px rgba(0,0,0,.1);
       -o-box-shadow: inset 0 1px 0 #fff, 0 1px 5px rgba(0,0,0,.1);
          box-shadow: inset 0 1px 0 #fff, 0 1px 5px rgba(0,0,0,.1);
        filter:
          progid:DXImageTransform.Microsoft.Shadow(color=#000,direction=135,strength=5);
  }
  .light
  {
  -webkit-box-shadow: inset 0 3px 5px rgba(0,0,0,.05);
     -moz-box-shadow: inset 0 3px 5px rgba(0,0,0,.05);
       -o-box-shadow: inset 0 3px 5px rgba(0,0,0,.05);
          box-shadow: inset 0 3px 5px rgba(0,0,0,.05);
        filter:
          progid:DXImageTransform.Microsoft.Shadow(color=#000,direction=0,strength=5);
  }
  .inset-top(@color:@gray, @size:5px)
  {
       -moz-box-shadow: inset 0 @size @size -@size @color;
    -webkit-box-shadow: inset 0 @size @size -@size @color;
         -o-box-shadow: inset 0 @size @size -@size @color;
            box-shadow: inset 0 @size @size -@size @color;
        filter:
          progid:DXImageTransform.Microsoft.Shadow(color=#000,direction=135,strength=5);
  }
}

.hero-unit, .well {
  border:1px solid darken(@white, 10%);
  background-color:darken(@white, 2%);
  p { 
    font-size:1.1em;
    line-height:1.3;
  }
}

.vertical-border {
  border-left: 1px solid @grayLighter;
  padding:20px;
  padding-left:30px;
}

small {font-size: 0.9em;}

.accessibility {
  position:absolute;
  left:-10000px;
}

p.hint {
  color:@grayLight;
  padding:5px;
}

.subtle {
  color:@grayLight;
  font-size: 0.9em;
  font-style: italic;
  a {text-decoration: none;}
}

/* button */
.btn-rating {
  border:none;
  background:none;
  font-size:15px;
  margin:0;
  padding:0;
  color:@blue;
  font-weight:100;
  
  &:hover {
    color:@blueDark;
  }
}

.btn-answered {
  border:none;
  background:none;
  font-size:25px;
  padding:0;
  font-weight:100;
  margin:0;
  &.answered{
    color:@green;

    &:hover {
    color:@grayLight;
    }
  }

  &.not.answered {
    color:@grayLight;
    
    &:hover {
      color:@green;
    }
  }
}

input[type="radio"] {
  margin: -6px 0 0;
}

form.button_to {
  margin:0;
  padding:0;
  display:inline;
}
  
form.button_to div, form.button_to div input {
  display:inline;
    width:90px;
}

.btn-block {
  width:60%;
}

.follow-button {
  margin:0;
  padding:2px 5px;
 
  display:inline;
}

#navigation
{
  li a {
    color: @white;
    margin:0;
    padding-left:5px;

    &:hover {
      color:@grayLight;
    }
  }
  li.admin a
  {
    color: @admin-red;
    font-weight:bold;
  }

  .btn-navbar
  {
    &:hover, span:hover { text-decoration: none;}
  }

  .breadcrumb { 
    line-height:1;
    height:20px;
    a { 
      margin:2px 0;
      color: @blue;
      font-size:0.9em;
      &:hover {
        text-decoration:none;
      }
    }
  }

  ul.dropdown-menu {
    a {
      display: block;
      padding: 3px 20px;
      clear: both;
      font-weight: normal;
      line-height: 20px;
      color: #333;
      white-space: nowrap;

      &:hover { color: @gray;}
    }
  }

  .breadcrumb span
  {
    display:inline-block;
    padding:0;
    margin:-2px 5px;
    vertical-align:middle;
    color: @grayDark;
  }
  
}


/* post */
a.remove-cross {
  color: @grayLight;

  &:hover {
    color: @gray;
    text-decoration: none;
  }
}

dl.info, dl.question {
  margin:10px 0;
  padding:0;
}

.info-title      { 
  padding:0 5px; 
  background: lighten(@yellow, 10%); 
  color: @white; 
}

.info-title a    { 
  color: @white; 
  display:block; 
  text-decoration:none;
}

.info-details, .question-details { 
  border-left: 1px solid lighten(@gray, 30%); 
  margin:0 5px;
  padding:5px 5px 2px 5px;
}

.question-title  { 
  padding:0 5px; 
  background: lighten(@gray, 30%); 
  color: @white; 
}

.question-title a { 
  color: @white; 
  display:block; 
  text-decoration:none;
}


table.announcement-teaser {
  border-left:10px solid @yellow;
}

.table.table-borderless td,
.table.table-borderless th {
    border-top: 0;
}

.post-badge {
  width:20px;
  height:65px;
  &.question-badge {
    background: @blue url("question-badge.png") top no-repeat;
  }

  &.private-question-badge {
    background: #9fc9f0 url("question-badge.png") top no-repeat;
  }
  
  &.info-badge {
    background: @yellow url("info-badge.png") top no-repeat;
  }

  &.answer-badge {
    background: @grayLight url("answer-badge.png") top no-repeat;  

    &.answered {
      background-color: @green;
    }
    &.not.answered {
      background-color: @grayLight;
    }
  }

  &.private-answer-badge {
    background: #f0dfae url("answer-badge.png") top no-repeat;
  }
}


.post-rating {
  vertical-align:top;
  padding-left:10px!important;
  width:30px;
  margin:5px;
  padding:0;
  margin:10px auto;
  text-align: center;
}

.post-subject, .post-body, .post-footer {
  padding:0 10px;
  margin:0;
}

h3.post-subject {
  padding:0 10px;
  margin:3px 0 10px 0;
}

.post-course-name {
  margin:0 10px;
  padding:0;
  font-size:0.9em;

  a {
    color: @gray;
  }
}

.post-subject {
  min-height:20px;
  padding:10px;
}
td.post-footer {
  vertical-align: bottom;
}

table.table-posts {
  width:100%;
  margin:10px 0;
  td.post-footer, td.post-rating, td.post-badge {
    border-bottom:1px solid #ddd;
  }
  
  &.subscribed {
    background-color:@subscribed-color;
  }
}

.highlight {
  background-color: lighten(@orange, 45%);
}

table.table-comments {
  margin:0 0 20px 0;
  width: 90%;
  float:right;

  tbody tr {
    margin:0;
  }
  div.comment {
    margin:0 5px;

    p {
      padding:0;
      margin:0;
    }

    h1,h2,h3,h4,h5,h6 {
      font-size:1em;  
      font-weight:normal;
      line-height:1;
      padding:0;
      margin:0;
    }
  }
  
}

span.comment-metadata, span.post-metadata {
  color:@gray;
  font-size:0.9em;
}

td.comment-button p {
  margin:0;
}

.comment-form {
  margin: 0;
}


/* notifications */
.read, .read a { color:@grayLight; }
.unread, .unread a { color:@grayDarker; }

tr.clickable {

  .notification-details {
    background-color:@grayLighter;
    padding:5px;
  }

  &:hover {
    background:whitesmoke;
    color: @black;

    .notification-details {
      border:1px solid lighten(@grayLight, 30%);
      background-color:@white;
    }

    a {
      color: @blue;
      &:hover {
        color: @blueDark;
      }
    }
  }
}

li.notification {
  border-bottom:1px solid #eee;

  & a {
    padding:5px;
  }

  a:hover {
    color:#333;
  }
  
  p {

    &.title {
      font-weight:200;
      font-size:12pt;
      word-wrap: break-word;
    }
    margin:0;
    padding:0;
    text-shadow:none;
  }
}

a.notification-button {

  &.red {
    background-color:@red;
  }
  width: 28px!important;
  height: 25px!important;
  text-align: center!important;
  margin: 7px!important;
  padding: 3px 1px 0 0!important;
  vertical-align: center!important;

  &:hover {
    background-color:@gray!important;
    cursor:pointer;
  }
}



li.notification p {

  padding:5px;
}

// Set the correct sprite paths
@iconSpritePath:       asset-path("twitter/bootstrap/bootstrap/glyphicons-halflings.png", image);
@iconWhiteSpritePath:  asset-path("twitter/bootstrap/bootstrap/glyphicons-halflings-white.png", image);

/* docs */
// https://developer.mozilla.org/en/Sections_and_Outlines_of_an_HTML5_document
// http://wrangl.com/sass-v-less
// http://twitter.github.com/recess/
// https://developer.mozilla.org/en/CSS/Writing_Efficient_CSS
// See http://twitter.github.com/bootstrap/less.html for their names and documentation

/****** SPECIFICS ******/

html { }

body
{/*{*/
  font: 14px/22px @baseFontFamily;
  font-weight:200; 
  
  pre, p code {
    padding: 2px 4px;
    color: @grayDark;
    background-color: #F7F7F9;
    border: 1px dashed #E1E1E8;
  }

  h1 {
    margin:50px 0 15px 0
  }

  & > section
  {
    //background-color: lighten(@yellow, 40%);
    background-color: @contentBackground;
    padding-top: 20px;
    padding-bottom: 20px;
    display:block;
    #shadow > .inset-top;

    #content
    {
      //background-color: @contentBackground;
      header
      {
        .bottom-border;
        //outline: 1px dashed green;
        //padding: 20px 0px;
      }

      footer
      {
        .top-border;
        margin:0;
        padding:0;
      }
    }
  }

  #footer
  {
    bottom: 0px;
    width:100%;
    padding-top:15px;
    background: @grayDark url('low_contrast_linen.png');
    min-height:150px;
    #shadow > .inset-top(@black,15px);
    color:@white;
    a {color:@white; }
  }
}/*}*/

/* tables */
td > a
{
  display:block;
  margin:0;
  &:hover
  {
    background:none;
    color: black;
    text-decoration:none;
  }
}

/* forms */
.controle_group { .well; }

.sort_desc:after { content: url("./arrow_down.png"); }

.sort_asc:after { content: url("./arrow_up.png"); }


li.dropdown-fallback { display: none; }

.icon-ok.answered , .icon-check.answered { 
  color:@green; 
  &:hover {
    color:@green;
  }
}


/* course */
.post-badge {
  min-width:20px;
  width:20px;
  height:65px;
  &.question-badge {
    background: @blue url("question-badge.png") top no-repeat;
  }
  
  &.info-badge {
    background: @yellow url("info-badge.png") top no-repeat;
  }
}

table.courses-table {
  width:100%;
  margin:20px 0;

  thead {
    border-bottom:1px solid #ddd;
    
    tr td{
      padding:10px;
      margin:10px 0;
    }
  }

  span.post-date {
    font-size:0.9em;
  }

  tbody td {
    margin:0 10px;
    padding:5px 10px;
    vertical-align: top;

    &.courses-posts {
      width:40%;
    }

    &.courses-post-badge {
      .post-badge;
      min-width:20px!important;
      
      padding:0;
      margin:0;
    }

    &.courses-activity {
      width:100px;
    }
  }
  .courses-body
  {
    #shadow > .soft;
  }
}

a.course-title {
  font-size:1.2em;
}

p.course-details {
  margin:4px;
  padding:2px;
  display:inline;
}

ul.horizontal {
  margin:5px 10px;
  li {
    padding:5px 10px;
    float:left;
    display:block;
  }

  &:after{
    content: ".";
    display: block;
    height: 0;
    clear: both;
    visibility: hidden;
  }
}

p.rating-button, p.answered-button {
  margin:0;
  padding:0;
  line-height: 1;
  text-align: center;
  form {
    margin:0;
  }
}

.gravatar {
  vertical-align: bottom;
}

.well-search {
  .well;
  margin:0;
  padding:10px 10px 0 10px;
  background:whitesmoke;
  border:1px solid @grayLighter;
}

p.rating-points {
  margin:0;
  padding:0;
  font-size:24px;
  font-weight:100;
  color:@black;
  text-align: center;
}

.center {
  margin: 0 auto;
  float: none;
}


#searchbar {
  margin: 2px;
  line-height: 1;
  height: 18px;
}

.well-small{
  .well;
  padding: 5px 10px 19px 19px;
  
}

.backward_compatability {
  display: none;
  line-height: 0;
  visibility: hidden;
}

#reportModal {
  visibility: hidden;
}

/* markdown buttons */
.rich-text-buttons {
  ul {
    list-style:none;
    margin:0;
    padding:0;
  }

  ul li {
    float:left;
    margin:5px;
  }

  li:last {
    clear:both;
  }

}

blockquote h1 {
  font-size:1.2em;
}

.answer-form {
  clear:both;
}

.filter-box {

  border:none;
  border-bottom:1px solid #E3E3E3;
  border-top:1px solid #E3E3E3;
  background-color:white;
  color:@grayDark;

  margin:0 0 10px 0;
  padding:5px 5px 0 5px;

  p.hint {
    clear: both;
    padding:5px 10px 0 10px;
  }
  ul {
    clear:both;
    list-style:none;
    margin:0;
    padding:0;
    color:@grayDark;
  }
  li {
    float:left;
    margin:3px 10px;

    a {
      &.current {
        font-weight:bold;
      }
    }
  }
}

/* latex */
.MathJax_Display {
  text-align:left!important;
}

/* too cool for ie */

a#tooCool {
  position: fixed;
  left: 20px;
  bottom: 20px;
  display: block;
  height: 80px;
  width: 80px;
  background: url("too_cool_med.jpg") bottom right no-repeat;
  background: url("too_cool_med.png") bottom right no-repeat;
  text-indent: -999em;
  text-decoration: none;
}

