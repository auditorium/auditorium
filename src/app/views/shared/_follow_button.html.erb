
<% if current_user and current_user.subscribed_to?(course) %>

    <%= button_to "#{current_user.is_moderator?(course) ? 'cancel membership' : 'unsubscribe'}", follow_course_path(course), :name => 'unfollow', :class => "follow-button btn #{current_user.is_moderator?(course) ? 'btn-danger' : 'btn-info'} btn-mini btn-block", 'data-id' => "#{course.id}", :disabled => should_be_disabled?, 'data-disable-with' => 'loading...', :id => 'follow-button', rel: 'tooltip', title: "#{current_user.is_moderator?(course) ? 'Click to cancel your membership as moderator of this course. Your subscription will also be canceled.' : 'Unsubscribe for notifications on course activity?'}", 'data-placement' => 'right', :remote => true %>
<% else %>
    <%= button_to "subscribe", follow_course_path(course), :name => 'follow', :class => "follow-button highlight btn btn-mini btn-block", 'data-id' => "#{course.id}", :disabled => should_be_disabled?, 'data-disable-with' => 'loading...', :id => 'follow-button', rel: 'tooltip', title: "Subscribe for notifications on course activity.", 'data-placement' => 'right', :remote => true   %>
<% end %>
