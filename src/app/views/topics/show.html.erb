<article id="topic">
  <header class="post-header">
    <span class="ribbon bigger">
      <%= t('posts.types.topic') %>
      <span data-id="<%= dom_id(@topic) %>" class="rating bright"><%= render 'shared/rating', post: @topic %></span>
    </span>
    <h2><%= @topic.subject %></h2>    
  </header>

  <div class="post-content">
    <%= markdown @topic.content %>
  </div>

  <div class="post-footer">
    <%= t('posts.general.group') %> 
    <%= link_to @topic.group.title, group_path(@topic.group) %>

    <% if can? :manage, @topic %> 
      <span class="right">
        <span class="created_at"><%= l(@topic.created_at, format: :short) %></span>
        <span class="actions">
          &middot;
          <%= link_to fa_icon('pencil', text: 'edit'), edit_topic_path(@topic), alt: "#{t('posts.actions.edit')}", title: "#{t('posts.actions.edit')}" %> &middot;
          <%= link_to fa_icon('times', text: 'remove'), @topic, alt: "#{t('posts.actions.delete')}", title: "#{t('posts.actions.edit')}", method: :delete, confirm: 'Are you sure to delete this topic?' %>
        </span>
      </span>
    <% end %>
  </div>
</article>

<section class="comments-section">
  <%= render 'shared/comments', commentable: @topic %>
</section>